线程同步


同步格言：
如果向一个变量写值，而这个变量接下来可能会被另一个线程所读取，或者从一个变量读值，而它的值可能是前面由另一个线程写入的，此时必须使用同步。

有两个或多个线程需要同时对相同的对象进行存取，而且每一个都调用了一个会改变对象状态的方法，那这些线程会相互倾轧，
根据各个线程访问数据的不同顺序，可能会产生腐蚀的对象。这种情况通常称作竞争条件 (race condition)。


锁是控制多个线程对共享资源进行访问的工具。通常，锁提供了对共享资源的独占访问。一次只能有一个线程获得锁定，对共享资源的所有访问都需要首先获得锁。

有两种机制来保护代码块不受并行访问的干扰，旧版本的Java使用synchronized关键字，而JDK5.0引入了Lock类。