## Amdahl 定律 ##

在有些问题中，如果可用资源越多，那么问题的解决速度就越快。而有些任务本质上是串行的，增加再多的资源也无法提升解决速度。如果使用线程主要是为了发挥多个处理器的处理能力，那么就必须对问题进行合理的并行分解，并使得程序能有效地使用这种潜在的并行能力。

大多数并发程序都是由一系列的并行工作和串行工作组成的。Amdahl 定律描述的是：在增加计算资源的情况下，程序在理论上能够实现最高加速比，这个值取决于程序中可并行组件与串行组件所占的比重。假设 F 是必须被串行执行的部分，在包含 N 个处理器的机器中，最高加速比为：`1/(F+(1-F)/N)`。当 N 趋近无穷大时，最大的加速比趋近于 1/F。因此，如果程序有 50% 的计算需要串行执行，那么最高的加速比只能是 2（而不管有多少个线程可用）。

Amdahl 定律还量化了串行化的效率开销，使用率的定义为：加速比除以处理器的数量。在拥有 10 个处理器的系统中，如果程序中有 10% 的串行部分，那么最高加速比为 5.3（53% 的使用率）；在拥有 100 个处理器的系统中，加速比可达到 9.2（9%的使用率）。

在所有并发程序中都包含一些串行部分，比如无论访问哪种共享数据结构，基本都会在程序中引入一个串行部分。