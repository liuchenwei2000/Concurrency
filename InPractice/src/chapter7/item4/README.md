## JVM 关闭 ##

### 守护线程

线程可分为两种：普通线程和守护线程。在 JVM 启动时创建的所有线程中，除了主线程外，其他的线程都是守护线程（例如垃圾回收器线程）。当创建一个新线程时，新线程将继承创建它的线程的守护状态，因此在默认情况下，主线程创建的所有线程都是普通线程。

普通线程与守护线程之间的差异仅在于当线程退出时发生的操作。当一个线程退出时，JVM 会检查其他正在运行的线程，如果这些线程都是守护线程，那么 JVM 会正常退出操作。当 JVM 停止时，所有仍然存在的守护线程都将被抛弃——既不会执行 finally 代码块，也不会执行回卷栈，而 JVM 只是直接退出。

尽可能少地使用守护线程——很少有操作能够在不进行清理的情况下被安全地抛弃。